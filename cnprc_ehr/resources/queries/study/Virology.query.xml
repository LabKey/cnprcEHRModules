<query xmlns="http://labkey.org/data/xml/query">
    <metadata>
        <tables xmlns="http://labkey.org/data/xml">
            <table tableName="virology" tableDbType="TABLE" useColumnOrder="true">
                <columns>
                    <column columnName="date">
                        <columnTitle>Sample Date</columnTitle>
                    </column>
                    <column columnName="testDate">
                        <columnTitle>Test Date</columnTitle>
                    </column>
                    <column columnName="target">
                        <columnTitle>Target</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_target</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="virus">
                        <columnTitle>Virus</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>viruses</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="method">
                        <columnTitle>Test Method</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_test_method</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="sampleType">
                        <columnTitle>Sample Type</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_sample_type</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="purpose">
                        <columnTitle>Purpose</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_purpose</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="result">
                        <columnTitle>Result</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_result</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Description</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="opticalDensity">
                        <columnTitle>Optical Density</columnTitle>
                    </column>
                    <column columnName="titration">
                        <columnTitle>Titration</columnTitle>
                    </column>
                    <column columnName="lab">
                        <columnTitle>Lab</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>virology_labs</fkTable>
                            <fkColumnName>value</fkColumnName>
                            <fkDisplayColumnName>Title</fkDisplayColumnName>
                        </fk>
                    </column>
                    <column columnName="location">
                        <columnTitle>Location</columnTitle>
                        <fk>
                            <fkDbSchema>ehr_lookups</fkDbSchema>
                            <fkTable>rooms</fkTable>
                            <fkColumnName>room</fkColumnName>
                        </fk>
                    </column>
                    <column columnName="remark">
                        <columnTitle>Comment</columnTitle>
                    </column>
                </columns>
            </table>
        </tables>
    </metadata>
</query>